<%- include('../partials/head', { title, description, request }) %>
<%- include('../partials/header') %>
<section class="py-5 bg-light">
  <div class="container">
    <div class="row align-items-start">
      <div class="col-lg-6">
        <h1>SolicitÄƒ ofertÄƒ pentru lucrarea academicÄƒ sau materialul infodocumentar</h1>
        <p class="lead">
          CompleteazÄƒ formularul, iar platforma va genera un draft de contract pe care Ã®l poÈ›i semna digital dupÄƒ validare.
        </p>
        <div class="d-flex flex-wrap gap-2 align-items-center mb-3">
          <a class="btn btn-outline-primary d-flex align-items-center gap-2" href="tel:+40756856395">
            <span aria-hidden="true">ğŸ“</span>
            <span>SunÄƒ acum</span>
          </a>
          <a
            class="btn btn-success d-flex align-items-center gap-2"
            href="https://wa.me/40756856395?text=BunÄƒ!%20AÈ™%20dori%20o%20ofertÄƒ%20pentru%20lucrarea%20mea."
            target="_blank"
            rel="noreferrer noopener"
          >
            <span aria-hidden="true">ğŸ’¬</span>
            <span>WhatsApp</span>
          </a>
        </div>
        <div class="process-flow mt-4">
          <div class="process-step">
            <div class="process-icon">ğŸ”</div>
            <div>
              <h3>Evaluare documentaÈ›ie</h3>
              <p>AnalizÄƒm cerinÈ›ele, temele È™i ataÈ™amentele Ã®ncÄƒrcate pentru a calibra volumul de lucru.</p>
            </div>
          </div>
          <div class="process-step">
            <div class="process-icon">ğŸ“‘</div>
            <div>
              <h3>Contract personalizat</h3>
              <p>PrimeÈ™ti draft de contract È™i termene de lucru adaptate universitÄƒÈ›ii tale.</p>
            </div>
          </div>
          <div class="process-step">
            <div class="process-icon">ğŸ›¡ï¸</div>
            <div>
              <h3>Proces securizat</h3>
              <p>Flux compliant GDPR, cu arhivÄƒ de documente È™i audit pe fiecare etapÄƒ.</p>
            </div>
          </div>
          <div class="process-step">
            <div class="process-icon">ğŸ“Š</div>
            <div>
              <h3>Audit de originalitate</h3>
              <p>Ãnainte de livrare verificÄƒm originalitatea È™i oferim rapoarte antiplagiat.</p>
            </div>
          </div>
          <div class="process-step">
            <div class="process-icon">ğŸ¤</div>
            <div>
              <h3>Consiliere continuÄƒ</h3>
              <p>ConsultanÈ›Äƒ pentru susÈ›inere È™i actualizÄƒri Ã®n timp real direct Ã®n ticket.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="card shadow-sm">
          <div class="card-body">
            <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-danger"><%= error %></div>
            <% } %>
            <form action="/oferta" method="post" class="row g-3" enctype="multipart/form-data">
              <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
              <div class="col-12">
                <label class="form-label" for="clientName">Nume complet</label>
                <input
                  class="form-control"
                  type="text"
                  id="clientName"
                  name="clientName"
                  value="<%= request.body?.clientName || currentUser?.fullName || '' %>"
                  <%= currentUser ? 'readonly' : '' %>
                  required
                  data-required-message="Te rugÄƒm sÄƒ completezi numele complet."
                />
              </div>
              <div class="col-md-6">
                <label class="form-label" for="email">Email</label>
                <input
                  class="form-control"
                  type="email"
                  id="email"
                  name="email"
                  value="<%= request.body?.email || currentUser?.email || '' %>"
                  <%= currentUser ? 'readonly' : '' %>
                  required
                  data-required-message="Te rugÄƒm sÄƒ completezi adresa de email."
                />
              </div>
              <div class="col-md-6">
                <label class="form-label" for="phone">Telefon</label>
                <div class="phone-input-wrapper" data-phone-input-wrapper>
                  <span class="phone-input-flag" data-phone-flag aria-hidden="true"></span>
                  <input
                    class="form-control"
                    type="tel"
                    id="phone"
                    name="phone"
                    value="<%= request.body?.phone || currentUser?.phone || '' %>"
                    inputmode="tel"
                    pattern="^\+?[0-9\s().-]{6,20}$"
                    required
                    data-required-message="Te rugÄƒm sÄƒ completezi numÄƒrul de telefon."
                    data-phone-message="IntroduceÈ›i un numÄƒr de telefon internaÈ›ional valid, folosind prefixul È›Äƒrii (ex: +447...)."
                    data-phone-input
                  />
                </div>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="program">Program de studii</label>
                <input
                  class="form-control"
                  type="text"
                  id="program"
                  name="program"
                  value="<%= request.body?.program || '' %>"
                  required
                  data-required-message="Te rugÄƒm sÄƒ menÈ›ionezi programul de studii."
                />
              </div>
              <div class="col-md-6">
                <label class="form-label" for="topic">Tema lucrÄƒrii</label>
                <input
                  class="form-control"
                  type="text"
                  id="topic"
                  name="topic"
                  value="<%= request.body?.topic || '' %>"
                  required
                  data-required-message="Te rugÄƒm sÄƒ completezi tema lucrÄƒrii."
                />
              </div>
              <div class="col-md-6">
                <label class="form-label" for="workType">Tipul lucrÄƒrii</label>
                <select
                  class="form-select"
                  id="workType"
                  name="workType"
                  required
                  data-required-message="SelecteazÄƒ tipul lucrÄƒrii."
                >
                  <option value="" disabled <%= request.body?.workType ? '' : 'selected' %>>SelecteazÄƒ tipul lucrÄƒrii</option>
                  <option value="lucrare de licenta" <%= request.body?.workType === 'lucrare de licenta' ? 'selected' : '' %>>Lucrare de licenÈ›Äƒ</option>
                  <option value="lucrare de grad" <%= request.body?.workType === 'lucrare de grad' ? 'selected' : '' %>>Lucrare de grad</option>
                  <option value="lucrare de disertatie" <%= request.body?.workType === 'lucrare de disertatie' ? 'selected' : '' %>>Lucrare de disertaÈ›ie</option>
                  <option value="lucrare de doctorat" <%= request.body?.workType === 'lucrare de doctorat' ? 'selected' : '' %>>Lucrare de doctorat</option>
                  <option value="proiect" <%= request.body?.workType === 'proiect' ? 'selected' : '' %>>Proiect</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label" for="deliveryDate">Data doritÄƒ de livrare</label>
                <input
                  class="form-control"
                  type="date"
                  id="deliveryDate"
                  name="deliveryDate"
                  min="<%= minDeliveryDate %>"
                  value="<%= request.body?.deliveryDate || minDeliveryDate %>"
                  required
                  data-required-message="SelecteazÄƒ data doritÄƒ de livrare."
                />
              </div>
              <div class="col-12">
                <label class="form-label" for="notes">Detalii suplimentare</label>
                <textarea
                  class="form-control"
                  id="notes"
                  name="notes"
                  rows="3"
                  data-required-message="AdaugÄƒ detaliile suplimentare cerute de universitate."
                ><%= request.body?.notes || '' %></textarea>
              </div>
              <div class="col-12">
                <label class="form-label" for="attachments">AtaÈ™amente opÈ›ionale</label>
                <div class="attachment-upload">
                  <input
                    type="file"
                    id="attachments"
                    name="attachments"
                    class="visually-hidden"
                    data-attachment-input
                    multiple
                    accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.zip,.rar,.7z,.jpg,.jpeg,.png"
                  />
                  <label class="btn btn-outline-primary w-100 text-start" for="attachments">ÃncarcÄƒ documente</label>
                  <small class="text-muted d-block mt-2">Format acceptat: PDF, DOC(X), XLS(X), PPT(X), imagini sau arhive (max. 5 fiÈ™iere / 8MB fiecare).</small>
                  <div class="attachment-list mt-2" data-attachment-list>Niciun fiÈ™ier selectat.</div>
                </div>
              </div>
              <div class="col-12">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value="on"
                    id="acceptTerms"
                    name="acceptTerms"
                    required
                  />
                  <label class="form-check-label" for="acceptTerms">
                    Sunt de acord cu <a class="link-primary" href="/termeni-si-conditii" target="_blank">Termenii È™i CondiÈ›iile</a>
                    precum È™i cu <a class="link-primary" href="/politica-confidentialitate" target="_blank">Politica de ConfidenÈ›ialitate</a> a site-ului.
                  </label>
                </div>
              </div>
              <% if (!currentUser) { %>
              <div class="col-12">
                <p class="text-muted small mb-0">
                  Prin trimiterea formularului Ã®È›i creÄƒm automat un cont gratuit Ã®n Academia de LicenÈ›e, pentru a centraliza oferta, contractul È™i comunicarea Ã®ntr-un spaÈ›iu sigur È™i uÈ™or de urmÄƒrit.
                  DacÄƒ nu doreÈ™ti crearea contului, ne poÈ›i contacta direct pe email la <a class="link-primary" href="mailto:office@academiadelicente.ro">office@academiadelicente.ro</a>.
                </p>
              </div>
              <% } %>
              <div class="col-12 text-end">
                <button class="btn btn-primary" type="submit">Trimite solicitarea</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<%- include('../partials/footer') %>
