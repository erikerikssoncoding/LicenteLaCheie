<%- include('../partials/head', { title, description, request }) %>
<%- include('../partials/header') %>
<section class="py-5 py-lg-6">
  <div class="container">
    <div class="row g-5 align-items-stretch">
      <div class="col-lg-5 d-flex flex-column">
        <span class="section-label">Contact rapid</span>
        <h1 class="section-title mt-3">Discută cu echipa noastră</h1>
        <p class="section-subtitle section-subtitle-start">Hai să povestim despre proiectul tău și să găsim împreună cea mai bună soluție.</p>
        <div class="glass-card mt-4 h-100">
          <ul class="list-unstyled mb-0 vstack gap-3">
            <li>
              <strong>Adresă</strong>
              <p class="mb-0 text-muted">Bd. Pipera nr. 1/I, construcția C2, et. 7, biroul 10, compartiment 12, Voluntari, Ilfov</p>
            </li>
            <li>
              <strong>Email</strong>
              <p class="mb-0 text-muted"><a class="link-dark text-decoration-none" href="mailto:office@academiadelicente.ro">office@academiadelicente.ro</a></p>
            </li>
            <li>
              <strong>Telefon</strong>
              <p class="mb-0 text-muted"><a class="link-dark text-decoration-none" href="tel:+40744000000">+40 744 000 000</a></p>
            </li>
            <li>
              <strong>Program</strong>
              <p class="mb-0 text-muted">Luni – Vineri · 09:00 – 18:00</p>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-lg-7 d-flex flex-column">
        <div class="glass-card h-100 d-flex flex-column">
          <form action="/contact" method="post" class="row g-3" enctype="multipart/form-data">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
            <div class="col-12">
              <div class="alert alert-success d-flex align-items-center gap-3 flex-wrap justify-content-between mb-0">
                <span class="bg-white text-success rounded-circle d-flex align-items-center justify-content-center p-2 flex-shrink-0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                    <path d="M8 3.5a.5.5 0 0 1 .5.5v3.879l2.146 2.147a.5.5 0 0 1-.708.707l-2.3-2.3A.5.5 0 0 1 7.5 8V4a.5.5 0 0 1 .5-.5z"></path>
                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm0-1A7 7 0 1 1 8 1a7 7 0 0 1 0 14z"></path>
                  </svg>
                </span>
                <span class="text-body flex-grow-1">
                  <strong>Vrei o ofertă personalizată mai rapid?</strong>
                  Cere oferta direct și îți răspundem în maximum 30 de minute în timpul programului de lucru.
                </span>
                <a class="btn btn-success ms-auto" href="/oferta">Apasă aici</a>
              </div>
            </div>
            <% if (typeof error !== 'undefined' && error) { %>
            <div class="col-12">
              <div class="alert alert-danger mb-0"><%= error %></div>
            </div>
            <% } %>
            <% if (currentUser) { %>
            <div class="col-12">
              <div class="alert alert-info mb-0">Mesajul tău va fi înregistrat automat ca ticket în contul tău din platforma Academia de Licențe.</div>
            </div>
            <% } %>
            <div class="col-md-6">
              <label class="form-label" for="fullName">Nume complet</label>
              <input
                class="form-control"
                type="text"
                id="fullName"
                name="fullName"
                value="<%= request.body?.fullName || currentUser?.fullName || '' %>"
                <%= currentUser ? 'readonly' : '' %>
                required
              />
            </div>
            <div class="col-md-6">
              <label class="form-label" for="email">Email</label>
              <input
                class="form-control"
                type="email"
                id="email"
                name="email"
                value="<%= request.body?.email || currentUser?.email || '' %>"
                <%= currentUser ? 'readonly' : '' %>
                required
              />
            </div>
            <div class="col-12">
              <label class="form-label" for="phone">Telefon</label>
              <div class="phone-input-wrapper" data-phone-input-wrapper>
                <span class="phone-input-flag" data-phone-flag aria-hidden="true"></span>
                <input
                  class="form-control"
                  type="tel"
                  id="phone"
                  name="phone"
                  value="<%= request.body?.phone || currentUser?.phone || '' %>"
                  pattern="^\+?[0-9\s().-]{6,20}$"
                  inputmode="tel"
                  title="Introdu un număr de telefon internațional valid, începând cu + și prefixul țării."
                  required
                  data-phone-message="Completează numărul cu prefixul internațional al țării tale (ex: +4917..., +4074...)."
                  data-phone-input
                />
              </div>
            </div>
            <div class="col-12">
              <label class="form-label" for="message">Mesaj</label>
              <textarea class="form-control" id="message" name="message" rows="5" required><%= request.body?.message || '' %></textarea>
            </div>
            <div class="col-12">
              <label class="form-label" for="attachment">Atașament (opțional)</label>
              <input
                class="form-control"
                type="file"
                id="attachment"
                name="attachment"
                accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png"
              />
              <div class="form-text">Acceptăm PDF, DOCX, JPG, PNG sau TXT (max. 5MB).</div>
            </div>
            <div class="col-12">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="on"
                  id="acceptTerms"
                  name="acceptTerms"
                  required
                />
                <label class="form-check-label" for="acceptTerms">
                  Sunt de acord cu <a class="link-primary" href="/termeni-si-conditii" target="_blank">Termenii și Condițiile</a>
                  precum și cu <a class="link-primary" href="/politica-confidentialitate" target="_blank">Politica de Confidențialitate</a> a site-ului.
                </label>
              </div>
            </div>
            <div class="col-12 text-end">
              <button class="btn btn-gradient" type="submit">Trimite mesajul</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
<%- include('../partials/footer') %>
